<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JAX-RS demo</title>

<!--Import Google Icon Font-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<!--Import materialize.css-->
<link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />

<!--Let browser know website is optimized for mobile-->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="css/login.css">
    
    
<script src="jquery.min.js"></script>
<script type="text/javascript">
function getFormData($form){
    var unindexed_array = $form.serializeArray();
    var indexed_array = {};

    $.map(unindexed_array, function(n, i){
        indexed_array[n['name']] = n['value'];
    });

    return indexed_array;
}

function login() {
	var $form = $("#login");
	var data = getFormData($form);
	
	var s = JSON.stringify(data);
	$.ajax({
		url: "SocialNetwork/login/login",
		type:"POST",
		data: s,
		contentType:"application/json",
		dataType:"json",
		complete: function(data) {
			window.open("feed.html", '_self').focus();
			//$( "#resultLogin" ).html( s );
		}
	});
}

</script>
</head>
<body>
	<p id="title">WebProject</p>
    <div class="container">
        <form id="login" >
            <input type="text" id="username" name="username" value="username"><br>
            <input type="text" id="password" name="password" value="password"><br><br>
            <input type="button" value="Log In"  onclick="login()" ><br>
            <label for="register">Don't have an Account?</label><br>
            <fieldset><div id="resultLogin">Rezultat poziva</div></fieldset><br />
        </form>
    </div>
</body>
</html>